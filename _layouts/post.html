---
layout: default
---

<article class="post">
    <header class="post-header">
        <h1>{{ page.title }}</h1>
        <p class="post-meta">
            <time datetime="{{ page.date | date_to_xmlschema }}">
                {{ page.date | date: "%B %d, %Y" }}
            </time>
        </p>
    </header>

    <div class="post-content">
        {{ content }}
    </div>
</article>

<nav class="post-navigation">
    {% if page.previous.url %}
    <a href="{{ page.previous.url | relative_url }}" class="prev-post">
        &larr; {{ page.previous.title }}
    </a>
    {% endif %}

    {% if page.next.url %}
    <a href="{{ page.next.url | relative_url }}" class="next-post">
        {{ page.next.title }} &rarr;
    </a>
    {% endif %}
</nav>

<!-- Lightbox -->
<div id="lightbox" class="lightbox">
    <span class="lightbox-close">&times;</span>
    <img src="" alt="">
    <div class="lightbox-caption"></div>
</div>

<script>
    // Lightbox functionality for blog post images
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('img');
    const lightboxCaption = lightbox.querySelector('.lightbox-caption');
    const lightboxClose = lightbox.querySelector('.lightbox-close');
    const postContent = document.querySelector('.post-content');

    // Add captions below images in post content
    if (postContent) {
        const images = postContent.querySelectorAll('img');
        images.forEach(img => {
            // Add caption below image
            if (img.alt) {
                const caption = document.createElement('div');
                caption.className = 'image-caption';
                caption.textContent = img.alt;
                img.parentNode.insertBefore(caption, img.nextSibling);
            }

            // Add click handler for lightbox
            img.addEventListener('click', () => {
                lightbox.classList.add('active');
                lightboxImg.src = img.src;
                lightboxImg.alt = img.alt;
                lightboxCaption.textContent = img.alt || '';
                document.body.style.overflow = 'hidden';
            });
        });
    }

    // Close lightbox when clicking background, image, or close button
    lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox || e.target === lightboxClose || e.target === lightboxImg) {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }
    });

    // Close lightbox with Escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && lightbox.classList.contains('active')) {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }
    });
</script>
